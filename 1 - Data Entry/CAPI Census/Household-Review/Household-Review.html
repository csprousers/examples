<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1, minimum-scale=1, user-scalable=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/external/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="/external/bootstrap/bootstrap-icons.css" />

    <link rel="css/stylesheet" href="/external/jquery/jquery-ui.min.css" />
    <link rel="stylesheet" href="/css/case-view2.css" />
    <link rel="stylesheet" href="/css/case-view-main-style.css" />
    <link rel="stylesheet" href="/css/case-view-main-style-print.css" />

    <script src="/action-invoker.js"></script>
    <script src="/external/jquery/jquery.min.js"></script>
    <script src="/external/jquery/jquery-ui.min.js"></script>
    <script src="/external/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="/external/handlebars/handlebars.js"></script>
    <script src="/external/js-barcode/JsBarcode.all.min.js"></script>
    <script src="/questionnaire-view/InputProcessor.js"></script>
    <script src="/questionnaire-view/CaseViewFactory.js"></script>

    <style>  
    </style>
    <title>Questionnaire report</title>

    <script>
        // This uuid was generated for the CAPI census project. The access token is used by the
        // external caller, Household-Review.html to instantiate the Action Invoker. The Menu
        // application registers an access token. If the two agree then the external caller
        // is trusted and the trusted source dialog is not shown. You will want to generate
        // your own private access token using the uuid function and use it in your project.
        const CS = new CSProActionInvoker("b082da4b-6a3b-4069-aa07-0a2dd6f0b715");
        var caseViewPrinter = new CaseViewFactory();

        $(document).ready(function () {
            //button events
            let input = CS.UI.getInputData();
			/* let input = { "dictionary": {"name":"PSC_HOUSEHOLD_DICT","languages":[{"name":"EN","label":"English"}],"labels":[{"text":"Popstan Census Household Dictionary","language":"EN"}],"security":{"allowDataViewerModifications":true,"allowExport":true,"cachedPasswordMinutes":0,"settings":"1bdc092e86aa0e9ecd4778fee48a5532a3c6ea0eeb1401f47165726c81fc88cb"},"readOptimization":true,"recordType":{"start":1,"length":1},"defaults":{"decimalMark":true,"zeroFill":true},"relativePositions":true,"levels":[{"name":"HOUSEHOLD_QUEST","labels":[{"text":"Household Questionnaire","language":"EN"}],"ids":{"items":[{"name":"HH_PROVINCE","labels":[{"text":"Province","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":2,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_DISTRICT","labels":[{"text":"District","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":4,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_EA","labels":[{"text":"Enumeration Area","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":6,"length":3,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_SEGMENT","labels":[{"text":"Segment","language":"EN"}],"occurrences":{"maximum":1},"contentType":"alpha","subitem":false,"start":9,"length":1,"capture":null,"valueSets":[]},{"name":"HH_NUMBER","labels":[{"text":"Household Number","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":10,"length":4,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]}]},"records":[{"name":"POPULATION_RECORD","labels":[{"text":"Population Record","language":"EN"}],"recordType":"P","occurrences":{"required":true,"maximum":35,"labels":[{"occurrence":1,"labels":[{"text":"","language":"EN"}]},{"occurrence":2,"labels":[{"text":"","language":"EN"}]},{"occurrence":3,"labels":[{"text":"","language":"EN"}]},{"occurrence":4,"labels":[{"text":"","language":"EN"}]},{"occurrence":5,"labels":[{"text":"","language":"EN"}]},{"occurrence":6,"labels":[{"text":"","language":"EN"}]},{"occurrence":7,"labels":[{"text":"","language":"EN"}]},{"occurrence":8,"labels":[{"text":"","language":"EN"}]},{"occurrence":9,"labels":[{"text":"","language":"EN"}]},{"occurrence":10,"labels":[{"text":"","language":"EN"}]},{"occurrence":11,"labels":[{"text":"","language":"EN"}]},{"occurrence":12,"labels":[{"text":"","language":"EN"}]},{"occurrence":13,"labels":[{"text":"","language":"EN"}]},{"occurrence":14,"labels":[{"text":"","language":"EN"}]},{"occurrence":15,"labels":[{"text":"","language":"EN"}]},{"occurrence":16,"labels":[{"text":"","language":"EN"}]},{"occurrence":17,"labels":[{"text":"","language":"EN"}]},{"occurrence":18,"labels":[{"text":"","language":"EN"}]},{"occurrence":19,"labels":[{"text":"","language":"EN"}]},{"occurrence":20,"labels":[{"text":"","language":"EN"}]},{"occurrence":21,"labels":[{"text":"","language":"EN"}]},{"occurrence":22,"labels":[{"text":"","language":"EN"}]},{"occurrence":23,"labels":[{"text":"","language":"EN"}]},{"occurrence":24,"labels":[{"text":"","language":"EN"}]},{"occurrence":25,"labels":[{"text":"","language":"EN"}]},{"occurrence":26,"labels":[{"text":"","language":"EN"}]},{"occurrence":27,"labels":[{"text":"","language":"EN"}]},{"occurrence":28,"labels":[{"text":"","language":"EN"}]},{"occurrence":29,"labels":[{"text":"","language":"EN"}]},{"occurrence":30,"labels":[{"text":"","language":"EN"}]},{"occurrence":31,"labels":[{"text":"","language":"EN"}]},{"occurrence":32,"labels":[{"text":"","language":"EN"}]},{"occurrence":33,"labels":[{"text":"","language":"EN"}]},{"occurrence":34,"labels":[{"text":"","language":"EN"}]},{"occurrence":35,"labels":[{"text":"","language":"EN"}]}]},"items":[{"name":"HH_KEEP_ROW","labels":[{"text":"Population Section: Keep Row?","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":14,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_KEEP_ROW_VS1","labels":[{"text":"Population Section: Keep Row?","language":"EN"}],"values":[{"labels":[{"text":"Yes, keep population row","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No, delete population row","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]}]}]},{"name":"HH_NAME","labels":[{"text":"Name","language":"EN"}],"note":"While person's name will not be used for analysis it will be used in CAPI questions.","occurrences":{"maximum":1},"contentType":"alpha","subitem":false,"start":15,"length":50,"capture":null,"valueSets":[]},{"name":"HH_RELATIONSHIP","labels":[{"text":"Relationship to Head of Houshold","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":65,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_RELATIONSHIP_WITH_HEAD_VS","labels":[{"text":"Relationship to Head of Household","language":"EN"}],"values":[{"labels":[{"text":"Head","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Spouse","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Son/Daughter","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Grandchild","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Brother/Sister","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]},{"labels":[{"text":"Father/Mother","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"6"}]},{"labels":[{"text":"Nephew/Niece","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"7"}]},{"labels":[{"text":"In-law","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"8"}]},{"labels":[{"text":"Other relative","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"9"}]},{"labels":[{"text":"Not related","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"10"}]}]},{"name":"HH_RELATIONSHIP_WITHOUT_HEAD_VS","labels":[{"text":"Relationship to Head of Household","language":"EN"}],"values":[{"labels":[{"text":"Spouse","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Son/Daughter","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Grandchild","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Brother/Sister","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]},{"labels":[{"text":"Father/Mother","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"6"}]},{"labels":[{"text":"Nephew/Niece","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"7"}]},{"labels":[{"text":"In-law","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"8"}]},{"labels":[{"text":"Other relative","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"9"}]},{"labels":[{"text":"Not related","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"10"}]}]}]},{"name":"HH_SEX","labels":[{"text":"Sex","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":67,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_SEX_VS1","labels":[{"text":"Sex","language":"EN"}],"values":[{"labels":[{"text":"Male","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Female","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]}]}]},{"name":"HH_DATE_OF_BIRTH","labels":[{"text":"Date of Birth","language":"EN"}],"occurrences":{"maximum":1},"contentType":"alpha","subitem":false,"start":68,"length":6,"capture":null,"valueSets":[]},{"name":"HH_MONTH_BORN","labels":[{"text":"Month Born","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":true,"start":68,"subitemOffset":0,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_MONTH_BORN_VS1","labels":[{"text":"Month Born","language":"EN"}],"values":[{"labels":[{"text":"January","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"February","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"March","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"April","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"May","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]},{"labels":[{"text":"June","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"6"}]},{"labels":[{"text":"July","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"7"}]},{"labels":[{"text":"August","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"8"}]},{"labels":[{"text":"September","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"9"}]},{"labels":[{"text":"October","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"10"}]},{"labels":[{"text":"November","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"11"}]},{"labels":[{"text":"December","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"12"}]},{"labels":[{"text":"Don't know","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"99"}]}]}]},{"name":"HH_YEAR_BORN","labels":[{"text":"Year Born","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":true,"start":70,"subitemOffset":2,"length":4,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_YEAR_BORN_VS1","labels":[{"text":"Year Born","language":"EN"}],"values":[{"labels":[{"text":"Year","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["1898","2018"]}]},{"labels":[{"text":"Don't know","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"9999"}]}]}]},{"name":"HH_AGE","labels":[{"text":"Age","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":74,"length":3,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_AGE_VS1","labels":[{"text":"Age","language":"EN"}],"values":[{"labels":[{"text":"Age","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["0","120"]}]},{"labels":[{"text":"Don't know","language":"EN"}],"image":"","textColor":"#000000","special":"MISSING","pairs":[{"value":"999"}]}]}]},{"name":"HH_CITIZENSHIP","labels":[{"text":"Citizenship","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":77,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_CITIZENSHIP_VS1","labels":[{"text":"Citizenship","language":"EN"}],"link":"153437400","values":[{"labels":[{"text":"Yes","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]}]}]},{"name":"HH_RESIDENCE_SITUATION","labels":[{"text":"Residence Situation","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":78,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_RESIDENCE_SITUATION_VS1","labels":[{"text":"Residence Situation","language":"EN"}],"values":[{"labels":[{"text":"Present resident","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Absent resident","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Visitor","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]}]}]},{"name":"HH_LITERACY","labels":[{"text":"Literacy","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":79,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_LITERACY_VS1","labels":[{"text":"Literacy","language":"EN"}],"link":"153437400","values":[{"labels":[{"text":"Yes","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]}]}]},{"name":"HH_EDUCATION","labels":[{"text":"Education","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":80,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_EDUCATION_VS1","labels":[{"text":"Education","language":"EN"}],"values":[{"labels":[{"text":"None","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Preschool","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Primary","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Secondary","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"University","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]},{"labels":[{"text":"Other tertiary","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"6"}]}]}]},{"name":"HH_WORK_STATUS","labels":[{"text":"Work Status","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":81,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_WORK_STATUS_VS1","labels":[{"text":"Work Status","language":"EN"}],"link":"153437400","values":[{"labels":[{"text":"Yes","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]}]}]},{"name":"HH_MARITAL_STATUS","labels":[{"text":"Marital Status","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":82,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_MARITAL_STATUS_VS1","labels":[{"text":"Marital Status","language":"EN"}],"values":[{"labels":[{"text":"Never married","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Married","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Divorced/Seperated","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Widowed","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]}]}]},{"name":"HH_MARITAL_AGE","labels":[{"text":"Age at first marriage","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":83,"length":3,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_MARITAL_AGE_VS1","labels":[{"text":"Age at first marriage","language":"EN"}],"values":[{"labels":[{"text":"Marital age","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["0","120"]}]},{"labels":[{"text":"Don't know","language":"EN"}],"image":"","textColor":"#000000","special":"MISSING","pairs":[{"value":"999"}]}]}]},{"name":"HH_CHILDREN_EVER_BORN","labels":[{"text":"Children Ever Born","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":86,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_CHILDREN_EVER_BORN_VS1","labels":[{"text":"Children Ever Born","language":"EN"}],"link":"98930856","values":[{"labels":[{"text":"Children","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["0","20"]}]}]}]},{"name":"HH_BOYS_EVER_BORN","labels":[{"text":"Boys Ever Born","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":88,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_BOYS_EVER_BORN_VS1","labels":[{"text":"Boys Ever Born","language":"EN"}],"link":"98930856","values":[{"labels":[{"text":"Children","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["0","20"]}]}]}]},{"name":"HH_BOYS_STILL_ALIVE","labels":[{"text":"Boys Still Alive","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":90,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_BOYS_STILL_ALIVE_VS1","labels":[{"text":"Boys Still Alive","language":"EN"}],"link":"98930856","values":[{"labels":[{"text":"Children","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["0","20"]}]}]}]},{"name":"HH_GIRLS_EVER_BORN","labels":[{"text":"Girls Ever Born","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":92,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_GIRLS_EVER_BORN_VS1","labels":[{"text":"Girls Ever Born","language":"EN"}],"link":"98930856","values":[{"labels":[{"text":"Children","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["0","20"]}]}]}]},{"name":"HH_GIRLS_STILL_ALIVE","labels":[{"text":"Girls Still Alive","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":94,"length":2,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_GIRLS_STILL_ALIVE_VS1","labels":[{"text":"Girls Still Alive","language":"EN"}],"link":"98930856","values":[{"labels":[{"text":"Children","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"range":["0","20"]}]}]}]},{"name":"HH_MORE_ROWS","labels":[{"text":"Population Section: Roster Confirmation","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":96,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_MORE_ROWS_VS1","labels":[{"text":"Population Section: Roster Confirmation","language":"EN"}],"values":[{"labels":[{"text":"Yes, there are additional persons","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No, list of persons is complete","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]}]}]}]},{"name":"DWELLING_UNIT_RECORD","labels":[{"text":"Dwelling Unit Record","language":"EN"}],"recordType":"D","occurrences":{"required":false,"maximum":1},"items":[{"name":"HH_TENURE","labels":[{"text":"Tenure","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":14,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_TENURE_VS1","labels":[{"text":"Tenure","language":"EN"}],"values":[{"labels":[{"text":"Owner/Family occupied","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Rented","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]}]}]},{"name":"HH_ROOF","labels":[{"text":"Roof","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":15,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_ROOF_VS1","labels":[{"text":"Roof","language":"EN"}],"values":[{"labels":[{"text":"Corrugated iron sheet","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Tile","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Concrete","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Grass","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]}]}]},{"name":"HH_WALL","labels":[{"text":"Wall","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":16,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_WALL_VS1","labels":[{"text":"Wall","language":"EN"}],"values":[{"labels":[{"text":"Stone","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Brick","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Wood","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Grass","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]}]}]},{"name":"HH_FLOOR","labels":[{"text":"Floor","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":17,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_FLOOR_VS1","labels":[{"text":"Floor","language":"EN"}],"values":[{"labels":[{"text":"Concrete","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Tile","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Wood","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Bamboo","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]}]}]},{"name":"HH_WATER_SOURCE","labels":[{"text":"Water Source","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":18,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_WATER_SOURCE_VS1","labels":[{"text":"Water Source","language":"EN"}],"values":[{"labels":[{"text":"Piped into dwelling","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Piped into yard","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Protected well","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Unprotected well","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Rain water","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]},{"labels":[{"text":"Stream/River","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"6"}]},{"labels":[{"text":"Pond/Lake","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"7"}]},{"labels":[{"text":"Dam","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"8"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"9"}]}]}]},{"name":"HH_TOILET","labels":[{"text":"Toilet","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":19,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_TOILET_VS1","labels":[{"text":"Toilet","language":"EN"}],"values":[{"labels":[{"text":"Flush toilet","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Ventilated improved pit (VIP) latrine","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Pit latrine","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Bush","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]}]}]},{"name":"HH_LIGHTING_SOURCE","labels":[{"text":"Lighting Source","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":20,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_LIGHTING_SOURCE_VS1","labels":[{"text":"Lighting Source","language":"EN"}],"values":[{"labels":[{"text":"Electricity","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Firewood","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]},{"labels":[{"text":"Solar","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Candles","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Battery","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"6"}]}]}]},{"name":"HH_COOKING_SOURCE","labels":[{"text":"Cooking Source","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":21,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_COOKING_SOURCE_VS1","labels":[{"text":"Cooking Source","language":"EN"}],"values":[{"labels":[{"text":"Electricity","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Firewood","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"5"}]},{"labels":[{"text":"Solar","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Charcoal","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"4"}]},{"labels":[{"text":"Gas","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"6"}]},{"labels":[{"text":"Other","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"7"}]}]}]},{"name":"HH_INTERNET","labels":[{"text":"Internet Access","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":22,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_INTERNET_VS1","labels":[{"text":"Internet Access","language":"EN"}],"link":"153437400","values":[{"labels":[{"text":"Yes","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]}]}]}]},{"name":"METADATA_RECORD","labels":[{"text":"Metadata Record","language":"EN"}],"recordType":"X","occurrences":{"required":true,"maximum":1},"items":[{"name":"HH_INTERVIEWER_CODE","labels":[{"text":"Interviewer Code","language":"EN"}],"occurrences":{"maximum":1},"contentType":"alpha","subitem":false,"start":14,"length":36,"capture":null,"valueSets":[]},{"name":"HH_SUPERVISOR_CODE","labels":[{"text":"Supervisor Code","language":"EN"}],"occurrences":{"maximum":1},"contentType":"alpha","subitem":false,"start":50,"length":36,"capture":null,"valueSets":[]},{"name":"HH_START_INTERVIEW_TIME","labels":[{"text":"Start Interview Time","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":86,"length":10,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_END_INTERVIEW_TIME","labels":[{"text":"End Interview Time","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":96,"length":10,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_PROGRAM_PUBLISH_DATE","labels":[{"text":"Program Publish Date","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":106,"length":14,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_GPS_READING","labels":[{"text":"GPS Reading","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":120,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_GPS_MOBILE_NO_DATA_VS","labels":[{"text":"GPS Reading","language":"EN"}],"values":[{"labels":[{"text":"Yes","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]}]},{"name":"HH_GPS_MOBILE_EXISTING_DATA_VS","labels":[{"text":"GPS Reading","language":"EN"}],"values":[{"labels":[{"text":"Yes","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"No, but keep previously collected GPS data","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"No, but delete previously collected GPS data","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]}]},{"name":"HH_GPS_WINDOWS_NO_DATA_VS","labels":[{"text":"GPS Reading","language":"EN"}],"values":[{"labels":[{"text":"No","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]}]},{"name":"HH_GPS_WINDOWS_EXISTING_DATA_VS","labels":[{"text":"GPS Reading","language":"EN"}],"values":[{"labels":[{"text":"No, but keep previously collected GPS data","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"No, but delete previously collected GPS data","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]}]}]},{"name":"HH_GPS_LATITUDE","labels":[{"text":"GPS Latitude","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":121,"length":10,"decimals":6,"decimalMark":true,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_GPS_LONGITUDE","labels":[{"text":"GPS Longitude","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":131,"length":11,"decimals":6,"decimalMark":true,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_GPS_ALTITUDE","labels":[{"text":"GPS Altitude","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":142,"length":7,"decimals":1,"decimalMark":true,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_GPS_ACCURACY","labels":[{"text":"GPS Accuracy","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":149,"length":6,"decimals":1,"decimalMark":true,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_GPS_SATELLITES","labels":[{"text":"GPS Satellites","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":155,"length":3,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_GPS_READTIME","labels":[{"text":"GPS Readtime","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":158,"length":6,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[]},{"name":"HH_INTRODUCTION","labels":[{"text":"Interview Introduction","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":164,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_INTRODUCTION_BEGIN_VS","labels":[{"text":"Interview Introduction","language":"EN"}],"values":[{"labels":[{"text":"Begin interview","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]}]},{"name":"HH_INTRODUCTION_PARTIAL_VS","labels":[{"text":"Interview Introduction","language":"EN"}],"values":[{"labels":[{"text":"Continue interview where previously left off","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Continue interview from first question","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]}]},{"name":"HH_INTRODUCTION_MODIFY_VS","labels":[{"text":"Interview Introduction","language":"EN"}],"values":[{"labels":[{"text":"Modify questionnaire","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]}]}]},{"name":"HH_POPULATION_SECTION","labels":[{"text":"Population Section","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":165,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_POPULATION_SECTION_VS1","labels":[{"text":"Population Section","language":"EN"}],"link":"108924368","values":[{"labels":[{"text":"Continue","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]}]}]},{"name":"HH_DWELLING_SECTION","labels":[{"text":"Dwelling Characteristics Section","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":166,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_DWELLING_SECTION_VS1","labels":[{"text":"Dwelling Characteristics Section","language":"EN"}],"link":"108924368","values":[{"labels":[{"text":"Continue","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]}]}]},{"name":"HH_CONCLUSION","labels":[{"text":"Interview Conclusion","language":"EN"}],"occurrences":{"maximum":1},"contentType":"numeric","subitem":false,"start":167,"length":1,"decimals":0,"zeroFill":true,"capture":null,"valueSets":[{"name":"HH_CONCLUSION_VS1","labels":[{"text":"Interview Conclusion","language":"EN"}],"values":[{"labels":[{"text":"Conclude interview","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"1"}]},{"labels":[{"text":"Review population section","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"2"}]},{"labels":[{"text":"Review dwelling characteristics section","language":"EN"}],"image":"","textColor":"#000000","pairs":[{"value":"3"}]}]}]}]}]}],"relations":[]}, "forms": {"name":"HOUSEHOLD_FF","label":"Household","dictionary":{"name":"PSC_HOUSEHOLD_DICT","path":"D:/cspro/examples/1 - Data Entry/CAPI Census/Dictionaries/Household.dcf"},"levels":[{"name":"HOUSEHOLD_QUEST","label":"Household Questionnaire","items":[{"name":"GEOCODES_FORM","label":"Geocodes","type":"group","items":[{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_PROVINCE","type":"field","protected":true,"hideInCaseTree":false,"mirror":false,"capture":{"type":"textBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_DISTRICT","type":"field","protected":true,"hideInCaseTree":false,"mirror":false,"capture":{"type":"textBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_EA","type":"field","protected":true,"hideInCaseTree":false,"mirror":false,"capture":{"type":"textBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_SEGMENT","type":"field","protected":true,"hideInCaseTree":false,"mirror":false,"capture":{"type":"textBox"},"tickmarks":true,"multiline":false},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_NUMBER","type":"field","protected":true,"hideInCaseTree":false,"mirror":false,"capture":{"type":"textBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_INTRODUCTION","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_GPS_READING","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}}]},{"name":"POPULATION_BASIC_FORM","label":"Population Basic","type":"group","items":[{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_POPULATION_SECTION","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"name":"POPULATION_BASICS_ROSTER","label":"Population Record","type":"roster","orientation":"horizontal","items":[{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_KEEP_ROW","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_NAME","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"textBox"},"tickmarks":false,"multiline":false},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_RELATIONSHIP","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_SEX","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_MORE_ROWS","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}}]}]},{"name":"POPULATION_DETAILS_FORM","label":"Population Details","type":"group","items":[{"name":"POPULATION_DETAILS_ROSTER","label":"Population Record","type":"roster","orientation":"horizontal","items":[{"name":"AGE_BLOCK","label":"Age","type":"block","items":[{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_MONTH_BORN","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_YEAR_BORN","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"comboBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_AGE","type":"field","protected":false,"hideInCaseTree":true,"mirror":false,"capture":{"type":"comboBox"}}]},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_CITIZENSHIP","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_RESIDENCE_SITUATION","type":"field","protected":false,"hideInCaseTree":true,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_LITERACY","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_EDUCATION","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_WORK_STATUS","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_MARITAL_STATUS","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_MARITAL_AGE","type":"field","protected":false,"hideInCaseTree":true,"mirror":false,"capture":{"type":"comboBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_CHILDREN_EVER_BORN","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"comboBox"}},{"name":"BOYS_BORN_BLOCK","label":"Boys Born","type":"block","items":[{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_BOYS_EVER_BORN","type":"field","protected":false,"hideInCaseTree":true,"mirror":false,"capture":{"type":"comboBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_BOYS_STILL_ALIVE","type":"field","protected":false,"hideInCaseTree":true,"mirror":false,"capture":{"type":"comboBox"}}]},{"name":"GIRLS_BORN_BLOCK","label":"Girls Block","type":"block","items":[{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_GIRLS_EVER_BORN","type":"field","protected":false,"hideInCaseTree":true,"mirror":false,"capture":{"type":"comboBox"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_GIRLS_STILL_ALIVE","type":"field","protected":false,"hideInCaseTree":true,"mirror":false,"capture":{"type":"comboBox"}}]}]}]},{"name":"DWELLING_CHARACTERISTICS_FORM","label":"Dwelling Characteristics","type":"group","items":[{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_DWELLING_SECTION","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_TENURE","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_ROOF","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_WALL","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_FLOOR","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_WATER_SOURCE","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_TOILET","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_LIGHTING_SOURCE","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_COOKING_SOURCE","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_INTERNET","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}},{"dictionary":"PSC_HOUSEHOLD_DICT","name":"HH_CONCLUSION","type":"field","protected":false,"hideInCaseTree":false,"mirror":false,"capture":{"type":"dropDown"}}]}]}]}, "case": {"key":"1109037A0001","uuid":"0434eff7-49c1-4ee1-a53f-ac7fb9881b36","label":"","deleted":false,"verified":false,"partialSave":{"mode":"modify","name":"HH_INTRODUCTION","levelKey":"","occurrences":{"record":1,"item":1,"subitem":0}},"notes":[{"text":"YAYAYAYAYAYYAYYAAYAY","modifiedTime":"2024-03-27T20:49:12Z","operatorId":"","name":"PSC_HOUSEHOLD_DICT","levelKey":""}],"HOUSEHOLD_QUEST":{"HH_PROVINCE":{"code":11,"entryStatus":"visited"},"HH_DISTRICT":{"code":9,"entryStatus":"visited"},"HH_EA":{"code":37,"entryStatus":"visited"},"HH_SEGMENT":{"code":"A","entryStatus":"visited"},"HH_NUMBER":{"code":1,"entryStatus":"visited"},"POPULATION_RECORD":[{"HH_KEEP_ROW":{"code":1,"entryStatus":"visited"},"HH_NAME":{"code":"LINCOLN DAVIS","entryStatus":"visited"},"HH_RELATIONSHIP":{"code":1,"entryStatus":"visited"},"HH_SEX":{"code":1,"entryStatus":"visited"},"HH_DATE_OF_BIRTH":{"code":"041965","entryStatus":"visited"},"HH_MONTH_BORN":{"code":4,"entryStatus":"visited"},"HH_YEAR_BORN":{"code":1965,"entryStatus":"visited"},"HH_AGE":{"code":56,"entryStatus":"visited"},"HH_CITIZENSHIP":{"code":1,"entryStatus":"visited"},"HH_RESIDENCE_SITUATION":{"code":1,"entryStatus":"visited"},"HH_LITERACY":{"code":1,"entryStatus":"visited"},"HH_EDUCATION":{"code":5,"entryStatus":"visited"},"HH_WORK_STATUS":{"code":1,"entryStatus":"visited"},"HH_MARITAL_STATUS":{"code":2,"entryStatus":"visited"},"HH_MARITAL_AGE":{"code":33,"entryStatus":"visited"},"HH_CHILDREN_EVER_BORN":{"entryStatus":"visited"},"HH_BOYS_EVER_BORN":{"entryStatus":"visited"},"HH_BOYS_STILL_ALIVE":{"entryStatus":"visited"},"HH_GIRLS_EVER_BORN":{"entryStatus":"visited"},"HH_GIRLS_STILL_ALIVE":{"entryStatus":"visited"},"HH_MORE_ROWS":{"code":1,"entryStatus":"visited"}},{"HH_KEEP_ROW":{"code":1,"entryStatus":"visited"},"HH_NAME":{"code":"NORA DAVIS","entryStatus":"visited"},"HH_RELATIONSHIP":{"code":2,"entryStatus":"visited"},"HH_SEX":{"code":2,"entryStatus":"visited"},"HH_DATE_OF_BIRTH":{"code":"021970","entryStatus":"visited"},"HH_MONTH_BORN":{"code":2,"entryStatus":"visited"},"HH_YEAR_BORN":{"code":1970,"entryStatus":"visited"},"HH_AGE":{"code":51,"entryStatus":"visited"},"HH_CITIZENSHIP":{"code":1,"entryStatus":"visited"},"HH_RESIDENCE_SITUATION":{"code":1,"entryStatus":"visited"},"HH_LITERACY":{"code":1,"entryStatus":"visited"},"HH_EDUCATION":{"code":5,"entryStatus":"visited"},"HH_WORK_STATUS":{"code":1,"entryStatus":"visited"},"HH_MARITAL_STATUS":{"code":2,"entryStatus":"visited"},"HH_MARITAL_AGE":{"code":28,"entryStatus":"visited"},"HH_CHILDREN_EVER_BORN":{"entryStatus":"visited"},"HH_BOYS_EVER_BORN":{"entryStatus":"visited"},"HH_BOYS_STILL_ALIVE":{"entryStatus":"visited"},"HH_GIRLS_EVER_BORN":{"entryStatus":"visited"},"HH_GIRLS_STILL_ALIVE":{"entryStatus":"visited"},"HH_MORE_ROWS":{"code":1,"entryStatus":"visited"}},{"HH_KEEP_ROW":{"code":1,"entryStatus":"visited"},"HH_NAME":{"code":"LILY DAVIS","entryStatus":"visited"},"HH_RELATIONSHIP":{"code":3,"entryStatus":"visited"},"HH_SEX":{"code":2,"entryStatus":"visited"},"HH_DATE_OF_BIRTH":{"code":"031999","entryStatus":"visited"},"HH_MONTH_BORN":{"code":3,"entryStatus":"visited"},"HH_YEAR_BORN":{"code":1999,"entryStatus":"visited"},"HH_AGE":{"code":22,"entryStatus":"visited"},"HH_CITIZENSHIP":{"code":1,"entryStatus":"visited"},"HH_RESIDENCE_SITUATION":{"code":1,"entryStatus":"visited"},"HH_LITERACY":{"code":1,"entryStatus":"visited"},"HH_EDUCATION":{"code":4,"entryStatus":"visited"},"HH_WORK_STATUS":{"code":2,"entryStatus":"visited"},"HH_MARITAL_STATUS":{"code":1,"entryStatus":"visited"},"HH_MARITAL_AGE":{"entryStatus":"visited"},"HH_CHILDREN_EVER_BORN":{"code":0,"entryStatus":"visited"},"HH_BOYS_EVER_BORN":{"entryStatus":"visited"},"HH_BOYS_STILL_ALIVE":{"entryStatus":"visited"},"HH_GIRLS_EVER_BORN":{"entryStatus":"visited"},"HH_GIRLS_STILL_ALIVE":{"entryStatus":"visited"},"HH_MORE_ROWS":{"code":2,"entryStatus":"visited"}}],"DWELLING_UNIT_RECORD":[{"HH_TENURE":{"code":1,"entryStatus":"visited"},"HH_ROOF":{"code":2,"entryStatus":"visited"},"HH_WALL":{"code":2,"entryStatus":"visited"},"HH_FLOOR":{"code":3,"entryStatus":"visited"},"HH_WATER_SOURCE":{"code":1,"entryStatus":"visited"},"HH_TOILET":{"code":1,"entryStatus":"visited"},"HH_LIGHTING_SOURCE":{"code":1,"entryStatus":"visited"},"HH_COOKING_SOURCE":{"code":6,"entryStatus":"visited"},"HH_INTERNET":{"code":1,"entryStatus":"visited"}}],"METADATA_RECORD":[{"HH_INTERVIEWER_CODE":{"code":"af00f054-718e-4a7d-a0db-ce390e83ea70","entryStatus":"visited"},"HH_SUPERVISOR_CODE":{"code":"c732d156-c67f-44b2-9566-803dbb4c3e0c","entryStatus":"visited"},"HH_START_INTERVIEW_TIME":{"code":1560777888,"entryStatus":"visited"},"HH_END_INTERVIEW_TIME":{"code":1711572531,"entryStatus":"visited"},"HH_PROGRAM_PUBLISH_DATE":{"code":20240327164850,"entryStatus":"visited"},"HH_GPS_READING":{"code":2,"entryStatus":"visited"},"HH_GPS_LATITUDE":{"code":38.922705,"entryStatus":"visited"},"HH_GPS_LONGITUDE":{"code":-77.036166,"entryStatus":"visited"},"HH_GPS_ALTITUDE":{"code":5.4,"entryStatus":"visited"},"HH_GPS_ACCURACY":{"code":5.4,"entryStatus":"visited"},"HH_GPS_SATELLITES":{"code":0,"entryStatus":"visited"},"HH_GPS_READTIME":{"code":92455,"entryStatus":"visited"},"HH_INTRODUCTION":{"code":1,"entryStatus":"visited"},"HH_POPULATION_SECTION":{"code":1,"entryStatus":"visited"},"HH_DWELLING_SECTION":{"code":1,"entryStatus":"visited"},"HH_CONCLUSION":{"code":1,"entryStatus":"visited"}}]}}, "note": {"value":"reject"}}; */

            setOptions(input);
            caseViewPrinter.container = $('.report-container');

            // if a name is specified in the input data (without a dictionary), get the content for that name
            if (input.hasOwnProperty("name") && !input.hasOwnProperty("dictionary")) {
                updateContentByName(input.name, input.key, input.uuid);
            }

            // otherwise assume the content is in the input
            else {
                updateContent(input);
            }
            // Poll for changes in the DOM to ensure the button additions are made after the questionnaire content is added
            let pollInterval = setInterval(function () {
                //adding approve and reject ui functionality
                const languageBarDiv = document.getElementById("languageBar");
                if(languageBarDiv){
                    initButtons();
                    initNotes();
                    clearInterval(pollInterval);
                }

            }, 100);// Adjust the polling interval as needed

        });

        function updateContentByName(name, key, uuid) {
            try {
                const contentUrl = CS.Localhost.mapActionResult({
                    action: "Application.getQuestionnaireContent",
                    arguments: {
                        name: name,
                        key: key,
                        uuid: uuid,
                        serializationOptions: {
                            binaryDataFormat: "localhostUrl"
                        }
                    }
                });

                $.getJSON(contentUrl, function (data) {
                    updateContent(data);
                });
            }
            catch (e) {
                console.log(e);
            }
        }

        function onMessage(jsonMessageText) {
            let message = JSON.parse(jsonMessageText);

            switch (message.action) {
                case "languageChange":
                    caseViewPrinter.currentLanguageId = message.language;
                    return true;

                case "refreshContent":
                    updateContentByName(message.name);
                    return true;
            }
        }

        function setOptions(input) {
            //language
            if (input.language) {
                caseViewPrinter.currentLanguageId = input.language;
            }

            //default values
            caseViewPrinter.doPrintQuestionnaire = false;
            caseViewPrinter.flatRosters = false;
            caseViewPrinter.maxRosterOcc = 0;
            caseViewPrinter.printAllValueSets = false;
            caseViewPrinter.renderFrame = true;
            caseViewPrinter.showLanguageBar = true;

            //trying to get values from input
            if ("printQuestionnaire" in input) {
                caseViewPrinter.doPrintQuestionnaire = input.printQuestionnaire === true;
            }

            if ("flatRosters" in input) {
                caseViewPrinter.flatRosters = input.flatRosters === true;
            }

            if ("maxRosterOcc" in input) {
                caseViewPrinter.maxRosterOcc = input.maxRosterOcc;
            }

            if ("printAllValueSets" in input) {
                caseViewPrinter.printAllValueSets = input.printAllValueSets === true;
            }

            if ("drawFrame" in input) {
                caseViewPrinter.renderFrame = input.drawFrame === true;
            }

            if ("showLanguageBar" in input) {
                caseViewPrinter.showLanguageBar = input.showLanguageBar === true;
            }

        }

        function updateContent(content) {
            caseViewPrinter.renderCase(
                caseViewPrinter.convertJson(content)
            );
            if (content.error) {
                alert(content.error);
            }
        }

        function onApprove() {
            //Use action invoker to invoke a cspro logic function to process approval of questionnaire
            CS.Logic.invokeAsync({
                function: "OnApprove",
                arguments: {
                    message: getNote()
                }
            })
            .then(result => {
                console.log(`Result was ${result}.`);
            })
            .catch(e => {
                CS.UI.alertAsync({
                    text: e.message
                });
            });
        }

        function onReject() {
            //Use action invoker to invoke a cspro logic function to process reject of questionnaire 
            CS.Logic.invokeAsync({
                function: "OnReject",
                arguments: {
                    message: getNote()
                }
            })
            .then(result => {
                console.log(`Result was ${result}.`);
            })
            .catch(e => {
                CS.UI.alertAsync({
                    text: e.message
                });
            });
        }

        function getNote() {
            const textBox = document.getElementById('text-box');
            return textBox.value;
        }

        function initButtons() {
            const buttonRowMarkup = '<div id="button-row" class="row"></div>';
            const buttonGroupMarkup = '<div id="button-group" class="btn-group justify-content-end"></div>';
            const approveButtonMarkup =
                                    `<div class="col-auto">
                                        <button type="button" id="approve-btn" class="btn btn-custom btn-success me-1 mt-1 mb-1" onclick="onApprove()">Approve</button>
                                    </div>`;
            const rejectButtonMarkup =
                                    `<div class="col-auto">
                                        <button type="button" id="reject-btn" class="btn btn-custom btn-danger me-1 mt-1 mb-1" onclick="onReject()">Reject</button>
                                    </div>`;
            const notesButtonMarkup =
                                    `<div class="col-auto">
                                        <button type="button" id="notes-btn" class="btn btn-custom btn-light me-1 mt-1 mb-1" onclick="toggleNotes()">
                                            <img src="../Household-Review/Notes.png" alt="Notes" style="max-height: 20px;">
                                        </button>
                                    </div>`;

            const languageBarDiv = document.getElementById("languageBar");
            languageBarDiv.innerHTML += buttonRowMarkup;
            const buttonRowDiv = document.getElementById("button-row");
            buttonRowDiv.innerHTML += buttonGroupMarkup;
            const buttonGroupDiv = document.getElementById("button-group");
            buttonGroupDiv.innerHTML += approveButtonMarkup;
            buttonGroupDiv.innerHTML += rejectButtonMarkup;
            buttonGroupDiv.innerHTML += notesButtonMarkup;
            
            if (window.matchMedia("(max-width: 767px)").matches) {
                // Use small buttons on phones
                const approveButton = document.getElementById("approve-btn");
                approveButton.classList.add("btn-sm");
                const rejectButton = document.getElementById("reject-btn");
                rejectButton.classList.add("btn-sm");
                const notesButton = document.getElementById("notes-btn");	
                notesButton.classList.add("btn-sm");
            }
        }

        function initNotes() {
			const rowDiv = document.getElementsByClassName("row show no-gutters d-flex h-100 position-relative")[0];
			const noteRowDiv = document.createElement("div");
			noteRowDiv.className = "row float-end";
			rowDiv.parentNode.insertBefore(noteRowDiv, rowDiv.nextSibling);
			
            const textBoxMarkup =
								`<div id="text-box-container" class="text-box-container me-1 mb-1 p-1">
									<input type="text" id="text-box" class="form-control" placeholder="Enter your feedback here">
								</div>`;
            noteRowDiv.innerHTML += textBoxMarkup;

            const notesContainerDiv = document.getElementById("text-box-container");
            notesContainerDiv.style.display = 'none';
 
            const notesTextBoxDiv = document.getElementById("text-box");
            notesTextBoxDiv.style.padding = '11px';

            const note = CS.UI.getInputData().note;
            notesTextBoxDiv.value = note.value;
        }

        // JavaScript function to show the text box
        function toggleNotes() {
            const div = document.getElementById("text-box-container");
            if (div.style.display === 'none') {
                div.style.display = 'block';
            } else {
                div.style.display = 'none';
            }
        }
        
    </script>

</head>

<body class="main-container">
    <!-- You can add your custom report content here -->
    <!-- on page load the updateContent function fills the "report-container" div-->
    <div class="report-container">

    </div>
</body>

</html>
